1) does not check for diagonal
2) segfaults